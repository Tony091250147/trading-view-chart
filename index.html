<!DOCTYPE HTML>
<html>
  <head>

    <title>TradingView Charting Library demo</title>

    <!-- Fix for iOS Safari zooming bug -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">

    <!-- jQuery is not required to use Charting Library. It is used only for sample datafeed ajax requests. -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script>window.jQuery || document.write('<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"><\/script>')</script>
    <script type="text/javascript" src="charting_library/charting_library.min.js"></script>
    <script type="text/javascript" src="charting_library/datafeed/udf/datafeed.js"></script>

    <script type="text/javascript">

      function getParameterByName(name) {
          name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
          var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                  results = regex.exec(location.search);
          return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
      }

      var LINESTYLE_SOLID = 0;
      var LINESTYLE_DOTTED = 1;
      var LINESTYLE_DASHED = 2;
      var LINESTYLE_LARGE_DASHED = 3;

      var schemes = {
        light: {
          bg: '#e5eff5',
          text: '#333333',
          textStrong: '#333333',
          textWeak: '#ababab',
          short: '#35acef',
          shortFill: '#35acef',
          long: '#35acef',
          longFill: '#e5eff5',
          cta: '#35acef',
          ctaHighlight: '#35acef',
          alert: '#35acef',
        },
        dark: {
          bg: '#091d2a',
          text: '#2474a3',
          textStrong: '#2474a3',
          textWeak: '#195171',
          short: '#35acef',
          shortFill: '#35acef',
          long: '#35acef',
          longFill: '#091d2a',
          cta: '#35acef',
          ctaHighlight: '#35acef',
          alert: '#35acef',
        },
        'dark-2': {
          bg: '#151c28',
          text: '#D3DAE4',
          textStrong: '#D3DAE4',
          textWeak: '#7e8fa5',
          short: '#2da1f8',
          shortFill: '#2da1f8',
          long: '#2da1f8',
          longFill: '#151c28',
          cta: '#2da1f8',
          ctaHighlight: '#2da1f8',
          alert: '#2da1f8',
        },
        finance: {
          bg: '#000724',
          text: '#b7c6e0',
          textStrong: '#b7c6e0',
          textWeak: '#7f8ab4',
          short: '#ff692e',
          shortFill: '#ff692e',
          long: '#34ca02',
          longFill: '#34ca02',
          cta: '#003bff',
          ctaHighlight: '#003bff',
          alert: '#003bff',
        },
        green: {
          bg: '#0f1f29',
          text: '#FFFFFF',
          textStrong: '#FFFFFF',
          textWeak: '#8E9DA5',
          short: '#FF6600',
          shortFill: '#FF6600',
          long: '#9DC227',
          longFill: '#9DC227',
          cta: '#FFBC00',
          ctaHighlight: '#FFBC00',
          alert: '#FFBC00',
        },
        'traders-light': {
          bg: '#ffffff',
          text: '#006bb8',
          textStrong: '#006bb8',
          textWeak: '#57b9ff',
          short: '#e6002e',
          shortFill: '#e6002e',
          long: '#009e52',
          longFill: '#009e52',
          cta: '#006bb8',
          ctaHighlight: '#006bb8',
          alert: '#006bb8',
        },
        'traders-dark': {
          bg: '#072b46',
          text: '#5281a3',
          textStrong: '#5281a3',
          textWeak: '#273e4e',
          short: '#aa433c',
          shortFill: '#aa433c',
          long: '#3b873e',
          longFill: '#3b873e',
          cta: '#004a80',
          ctaHighlight: '#004a80',
          alert: '#004a80',
        },
        'qryptos-dark': {
          bg: '#151204',
          text: '#ffffff',
          textStrong: '#292821',
          textWeak: '#808080',
          short: '#d95c26',
          shortFill: '#d95c26',
          long: '#82d926',
          longFill: '#82d926',
          cta: '#d6b524',
          ctaHighlight: '#d6b524',
          alert: '#d6b524',
        },
        'qryptos-light': {
          bg: '#f5f4f0',
          text: '#3d3d3d',
          textStrong: '#3d3d3d',
          textWeak: '#999896',
          short: '#e15647',
          shortFill: '#e15647',
          long: '#45b5a2',
          longFill: '#45b5a2',
          cta: '#f8be49',
          ctaHighlight: '#f8be49',
          alert: '#f8be49',
        },
      };
      var theme = 'green';
      var colors = schemes[theme];

      TradingView.onready(function() {
        var widget = window.tvWidget = new TradingView.widget({
          fullscreen: true,
          symbol: 'BTCUSD',
          interval: 'D',
          container_id: "tv_chart_container",
          //  BEWARE: no trailing slash is expected in feed URL
          datafeed: new Datafeeds.UDFCompatibleDatafeed("https://staging1.quoine.com"),
          library_path: "charting_library/",
          locale: getParameterByName('lang') || "en",
          //  Regression Trend-related functionality is not implemented yet, so it's hidden for a while
          drawings_access: { type: 'black', tools: [ { name: "Regression Trend" } ] },
          disabled_features: ["use_localstorage_for_settings"],
          enabled_features: ["study_templates"],
          charts_storage_url: 'http://saveload.tradingview.com',
                    charts_storage_api_version: "1.1",
          client_id: 'tradingview.com',
          user_id: 'public_user_id',
          overrides: {
            "paneProperties.background": colors.bg,
            "paneProperties.vertGridProperties.color": colors.textWeak,
            "paneProperties.vertGridProperties.style": LINESTYLE_SOLID,
            "paneProperties.horzGridProperties.color": colors.textWeak,
            "paneProperties.horzGridProperties.style": LINESTYLE_SOLID,
            "paneProperties.crossHairProperties.color": colors.textWeak,
          },
        });
      });

    </script>

  </head>

  <body style="margin:0px;">
    <div id="tv_chart_container"></div>
  </body>

</html>
